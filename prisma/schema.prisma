generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
enum CreatorStatus {
  PENDING
  APPROVED
  REJECTED
}
enum UserRole {
  ADMIN
}
enum AppUserRole {
  CREATOR
  BRAND
}

model AppUser {
  id          String      @id @default(uuid())
  phoneNumber String      @unique
  role        AppUserRole
  isActive    Boolean     @default(true)
  createdAt   DateTime    @default(now())
}

model OtpSession {
  id          String   @id @default(uuid())
  phoneNumber String
  otpHash     String
  expiresAt   DateTime
  verifiedAt  DateTime?
  createdAt   DateTime @default(now())

  @@index([phoneNumber])
}

model AdminUser {
  id           String   @id @default(uuid())
  email        String   @unique
  passwordHash String
  role         UserRole @default(ADMIN)
  createdAt    DateTime @default(now())
}


model Creator {
  id        String       @id @default(uuid())
  name      String
  email     String       @unique
  phoneNumber String     @unique   // âœ… ADD THIS
  instagram String
  category  String
  status    CreatorStatus @default(PENDING)
  createdAt DateTime     @default(now())

  @@index([createdAt])
  @@index([status])
}

